<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Add a GDS node with a file</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for addfile.gdsn {gdsfmt}"><tr><td>addfile.gdsn {gdsfmt}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Add a GDS node with a file</h2>

<h3>Description</h3>

<p>Add a file to a GDS file as a node.
</p>


<h3>Usage</h3>

<pre>
addfile.gdsn(node, name, filename,
    compress=c("ZIP", "ZIP_RA", "LZMA", "LZMA_RA", "LZ4", "LZ4_RA"),
    replace=FALSE, visible=TRUE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>node</code></td>
<td>
<p>an object of class <code><a href="../../gdsfmt/help/gdsn.class.html">gdsn.class</a></code> or
<code><a href="../../gdsfmt/help/gds.class.html">gds.class</a></code></p>
</td></tr>
<tr valign="top"><td><code>name</code></td>
<td>
<p>the variable name; if it is not specified, a temporary name
is assigned</p>
</td></tr>
<tr valign="top"><td><code>filename</code></td>
<td>
<p>the file name of input stream.</p>
</td></tr>
<tr valign="top"><td><code>compress</code></td>
<td>
<p>the compression method can be &quot;&quot; (no compression),
&quot;ZIP&quot;, &quot;ZIP.fast&quot;, &quot;ZIP.default&quot;, &quot;ZIP.max&quot; or &quot;ZIP.none&quot; (original
zlib); &quot;ZIP_RA&quot;, &quot;ZIP_RA.fast&quot;, &quot;ZIP_RA.default&quot;, &quot;ZIP_RA.max&quot; or
&quot;ZIP_RA.none&quot; (zlib with efficient random access); &quot;LZ4&quot;, &quot;LZ4.none&quot;,
&quot;LZ4.fast&quot;, &quot;LZ4.hc&quot; or &quot;LZ4.max&quot;; &quot;LZ4_RA&quot;, &quot;LZ4_RA.none&quot;,
&quot;LZ4_RA.fast&quot;, &quot;LZ4_RA.hc&quot; or &quot;LZ4_RA.max&quot; (with efficient random
access). See details</p>
</td></tr>
<tr valign="top"><td><code>replace</code></td>
<td>
<p>if <code>TRUE</code>, replace the existing variable silently
if possible</p>
</td></tr>
<tr valign="top"><td><code>visible</code></td>
<td>
<p><code>FALSE</code> &ndash; invisible/hidden, except
<code>print(, all=TRUE)</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>compress</code>:
Z compression algorithm (<a href="http://www.zlib.net/">http://www.zlib.net/</a>) can be used to
deflate the data stored in the GDS file. &quot;ZIP&quot; option is equivalent
to &quot;ZIP.default&quot;. &quot;ZIP.fast&quot;, &quot;ZIP.default&quot; and &quot;ZIP.max&quot; correspond
to different compression levels.
</p>
<p>To support efficient random access of Z stream, &quot;ZIP_RA&quot;,
&quot;ZIP_RA.fast&quot;, &quot;ZIP_RA.default&quot;, &quot;ZIP_RA.max&quot; or &quot;ZIP_RA.none&quot; should
be specified. &quot;ZIP_RA&quot; option is equivalent to &quot;ZIP_RA.default:256K&quot;.
The block size can be specified by following colon, and &quot;16K&quot;, &quot;32K&quot;,
&quot;64K&quot;, &quot;128K&quot;, &quot;256K&quot;, &quot;512K&quot;, &quot;1M&quot;, &quot;2M&quot;, &quot;4M&quot; and &quot;8M&quot; are allowed,
like &quot;ZIP_RA:64K&quot;. The compression algorithm tries to keep each
independent compressed data block to be about of the specified block
size, like 64K.
</p>
<p>LZ4 fast lossless compression algorithm is allowed when
<code>compress="LZ4"</code> (<a href="http://code.google.com/p/lz4/">http://code.google.com/p/lz4/</a>). Three
compression levels can be specified, &quot;LZ4.fast&quot; (LZ4 fast mode),
&quot;LZ4.hc&quot; (LZ4 high compression mode), &quot;LZ4.max&quot; (maximize the
compression ratio). The block size can be specified by following colon,
and &quot;64K&quot;, &quot;256K&quot;, &quot;1M&quot; and &quot;4M&quot; are allowed according to LZ4 frame
format. &quot;LZ4&quot; is equivalent to &quot;LZ4.hc:256K&quot;.
</p>
<p>To support efficient random access of LZ4 stream, &quot;LZ4_RA&quot;,
&quot;LZ4_RA.fast&quot;, &quot;LZ4_RA.hc&quot;, &quot;ZIP_RA.max&quot; or &quot;LZ4_RA.none&quot; should
be specified. &quot;LZ4_RA&quot; option is equivalent to &quot;LZ4_RA.hc:256K&quot;.
The block size can be specified by following colon, and &quot;16K&quot;, &quot;32K&quot;,
&quot;64K&quot;, &quot;128K&quot;, &quot;256K&quot;, &quot;512K&quot;, &quot;1M&quot;, &quot;2M&quot;, &quot;4M&quot; and &quot;8M&quot; are allowed,
like &quot;LZ4_RA:64K&quot;. The compression algorithm tries to keep each
independent compressed data block to be about of the specified block
size, like 64K.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="../../gdsfmt/help/gdsn.class.html">gdsn.class</a></code>.
</p>


<h3>Author(s)</h3>

<p>Xiuwen Zheng</p>


<h3>References</h3>

<p><a href="http://github.com/zhengxwen/gdsfmt">http://github.com/zhengxwen/gdsfmt</a>
</p>


<h3>See Also</h3>

<p><code><a href="../../gdsfmt/help/getfile.gdsn.html">getfile.gdsn</a></code>, <code><a href="../../gdsfmt/help/add.gdsn.html">add.gdsn</a></code>
</p>


<h3>Examples</h3>

<pre>
# save a .RData object
obj &lt;- list(X=1:10, Y=seq(1, 10, 0.1))
save(obj, file="tmp.RData")

# cteate a GDS file
f &lt;- createfn.gds("test.gds")

add.gdsn(f, "double", val=seq(1, 1000, 0.4))
addfile.gdsn(f, "tmp.RData", "tmp.RData")

# open the GDS file
closefn.gds(f)


# open the existing file
(f &lt;- openfn.gds("test.gds"))

getfile.gdsn(index.gdsn(f, "tmp.RData"), "tmp1.RData")
(obj &lt;- get(load("tmp1.RData")))

# open the GDS file
closefn.gds(f)


# delete the temporary files
unlink(c("test.gds", "tmp.RData", "tmp1.RData"), force=TRUE)
</pre>

<hr /><div style="text-align: center;">[Package <em>gdsfmt</em> version 1.30.0 <a href="00Index.html">Index</a>]</div>
</div></body></html>
