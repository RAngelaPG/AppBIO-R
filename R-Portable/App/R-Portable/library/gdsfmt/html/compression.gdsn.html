<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Modify compression mode</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for compression.gdsn {gdsfmt}"><tr><td>compression.gdsn {gdsfmt}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Modify compression mode</h2>

<h3>Description</h3>

<p>Modifie the compression mode of data field in the GDS node.
</p>


<h3>Usage</h3>

<pre>
compression.gdsn(node,
    compress=c("", "ZIP", "ZIP_RA", "LZMA", "LZMA_RA", "LZ4", "LZ4_RA"))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>node</code></td>
<td>
<p>an object of class <code><a href="../../gdsfmt/help/gdsn.class.html">gdsn.class</a></code>, a GDS node</p>
</td></tr>
<tr valign="top"><td><code>compress</code></td>
<td>
<p>the compression method can be &quot;&quot; (no compression),
&quot;ZIP&quot;, &quot;ZIP.fast&quot;, &quot;ZIP.def&quot;, &quot;ZIP.max&quot; or &quot;ZIP.none&quot; (original
zlib); &quot;ZIP_RA&quot;, &quot;ZIP_RA.fast&quot;, &quot;ZIP_RA.def&quot;, &quot;ZIP_RA.max&quot; or
&quot;ZIP_RA.none&quot; (zlib with efficient random access); &quot;LZ4&quot;, &quot;LZ4.none&quot;,
&quot;LZ4.fast&quot;, &quot;LZ4.hc&quot; or &quot;LZ4.max&quot; (LZ4 compression/decompression
library); &quot;LZ4_RA&quot;, &quot;LZ4_RA.none&quot;, &quot;LZ4_RA.fast&quot;, &quot;LZ4_RA.hc&quot; or
&quot;LZ4_RA.max&quot; (with efficient random access). &quot;LZMA&quot;, &quot;LZMA.fast&quot;,
&quot;LZMA.def&quot;, &quot;LZMA.max&quot;, &quot;LZMA_RA&quot;, &quot;LZMA_RA.fast&quot;, &quot;LZMA_RA.def&quot;,
&quot;LZMA_RA.max&quot; (lzma compression/decompression algorithm).
See details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Z compression algorithm (<a href="http://www.zlib.net/">http://www.zlib.net/</a>) can be used to
deflate the data stored in the GDS file. &quot;ZIP&quot; option is equivalent
to &quot;ZIP.def&quot;. &quot;ZIP.fast&quot;, &quot;ZIP.def&quot; and &quot;ZIP.max&quot; correspond to
different compression levels.
</p>
<p>To support efficient random access of Z stream, &quot;ZIP_RA&quot;, &quot;ZIP_RA.fast&quot;,
&quot;ZIP_RA.def&quot; or &quot;ZIP_RA.max&quot; should be specified. &quot;ZIP_RA&quot; option is
equivalent to &quot;ZIP_RA.def:256K&quot;. The block size can be specified by
following colon, and &quot;16K&quot;, &quot;32K&quot;, &quot;64K&quot;, &quot;128K&quot;, &quot;256K&quot;, &quot;512K&quot;, &quot;1M&quot;,
&quot;2M&quot;, &quot;4M&quot; and &quot;8M&quot; are allowed, like &quot;ZIP_RA:64K&quot;. The compression
algorithm tries to keep each independent compressed data block to be
about of the specified block size, like 64K.
</p>
<p>LZ4 fast lossless compression algorithm is allowed when
<code>compress="LZ4"</code> (<a href="http://code.google.com/p/lz4/">http://code.google.com/p/lz4/</a>). Three
compression levels can be specified, &quot;LZ4.fast&quot; (LZ4 fast mode),
&quot;LZ4.hc&quot; (LZ4 high compression mode), &quot;LZ4.max&quot; (maximize the
compression ratio). The block size can be specified by following colon,
and &quot;64K&quot;, &quot;256K&quot;, &quot;1M&quot; and &quot;4M&quot; are allowed according to LZ4 frame
format. &quot;LZ4&quot; is equivalent to &quot;LZ4.hc:256K&quot;.
</p>
<p>To support efficient random access of LZ4 stream, &quot;LZ4_RA&quot;,
&quot;LZ4_RA.fast&quot;, &quot;LZ4_RA.hc&quot; or &quot;ZIP_RA.max&quot; should be specified.
&quot;LZ4_RA&quot; option is equivalent to &quot;LZ4_RA.hc:256K&quot;. The block size can
be specified by following colon, and &quot;16K&quot;, &quot;32K&quot;, &quot;64K&quot;, &quot;128K&quot;,
&quot;256K&quot;, &quot;512K&quot;, &quot;1M&quot;, &quot;2M&quot;, &quot;4M&quot; and &quot;8M&quot; are allowed, like
&quot;LZ4_RA:64K&quot;. The compression algorithm tries to keep each independent
compressed data block to be about of the specified block size, like 64K.
</p>
<p>LZMA compression algorithm (<a href="http://tukaani.org/xz/">http://tukaani.org/xz/</a>) is available
since gdsfmt_v1.7.18, which has a higher compression ratio than ZIP
algorithm. &quot;LZMA&quot;, &quot;LZMA.fast&quot;, &quot;LZMA.def&quot; and &quot;LZMA.max&quot; available.
To support efficient random access of LZMA stream, &quot;LZMA_RA&quot;,
&quot;LZMA_RA.fast&quot;, &quot;LZMA_RA.def&quot; and &quot;LZMA_RA.max&quot; can be used. The block
size can be specified by following colon. &quot;LZMA_RA&quot; is equivalent to
&quot;LZMA_RA.def:256K&quot;.
</p>

<table summary="Rd table">
<tr>
 <td style="text-align: left;">
    compression 1 </td><td style="text-align: left;"> compression 2 </td><td style="text-align: left;"> command line </td>
</tr>
<tr>
 <td style="text-align: left;">
    ZIP       </td><td style="text-align: left;"> ZIP_RA       </td><td style="text-align: left;"> <code>gzip -6</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    ZIP.fast  </td><td style="text-align: left;"> ZIP_RA.fast  </td><td style="text-align: left;"> <code>gzip --fast</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    ZIP.def   </td><td style="text-align: left;"> ZIP_RA.def   </td><td style="text-align: left;"> <code>gzip -6</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    ZIP.max   </td><td style="text-align: left;"> ZIP_RA.max   </td><td style="text-align: left;"> <code>gzip --best</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZ4       </td><td style="text-align: left;"> LZ4_RA       </td><td style="text-align: left;"> <code>LZ4 HC -6</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZ4.min   </td><td style="text-align: left;"> LZ4_RA.min   </td><td style="text-align: left;"> <code>LZ4 fast 0</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZ4.fast  </td><td style="text-align: left;"> LZ4_RA.fast  </td><td style="text-align: left;"> <code>LZ4 fast 2</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZ4.hc    </td><td style="text-align: left;"> LZ4_RA.hc    </td><td style="text-align: left;"> <code>LZ4 HC -6</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZ4.max   </td><td style="text-align: left;"> LZ4_RA.max   </td><td style="text-align: left;"> <code>LZ4 HC -9</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZMA      </td><td style="text-align: left;"> LZMA_RA      </td><td style="text-align: left;"> <code>xz -6</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZMA.min  </td><td style="text-align: left;"> LZMA_RA.min  </td><td style="text-align: left;"> <code>xz -0</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZMA.fast </td><td style="text-align: left;"> LZMA_RA.fast </td><td style="text-align: left;"> <code>xz -2</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZMA.def  </td><td style="text-align: left;"> LZMA_RA.def  </td><td style="text-align: left;"> <code>xz -6</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZMA.max  </td><td style="text-align: left;"> LZMA_RA.max  </td><td style="text-align: left;"> <code>xz -9e</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZMA.ultra     </td><td style="text-align: left;"> LZMA_RA.ultra     </td><td style="text-align: left;"> <code>xz --lzma2=dict=512Mi</code>  </td>
</tr>
<tr>
 <td style="text-align: left;">
    LZMA.ultra_max </td><td style="text-align: left;"> LZMA_RA.ultra_max </td><td style="text-align: left;"> <code>xz --lzma2=dict=1536Mi</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>Return <code>node</code>.
</p>


<h3>Author(s)</h3>

<p>Xiuwen Zheng</p>


<h3>References</h3>

<p><a href="http://github.com/zhengxwen/gdsfmt">http://github.com/zhengxwen/gdsfmt</a>,
<a href="http://zlib.net/">http://zlib.net/</a>
</p>


<h3>See Also</h3>

<p><code><a href="../../gdsfmt/help/readmode.gdsn.html">readmode.gdsn</a></code>, <code><a href="../../gdsfmt/help/add.gdsn.html">add.gdsn</a></code>
</p>


<h3>Examples</h3>

<pre>
# cteate a GDS file
f &lt;- createfn.gds("test.gds")

n &lt;- add.gdsn(f, "int.matrix", matrix(1:50*100, nrow=100, ncol=50))
n

compression.gdsn(n, "ZIP")

# close the GDS file
closefn.gds(f)

# delete the temporary file
unlink("test.gds", force=TRUE)
</pre>

<hr /><div style="text-align: center;">[Package <em>gdsfmt</em> version 1.30.0 <a href="00Index.html">Index</a>]</div>
</div></body></html>
